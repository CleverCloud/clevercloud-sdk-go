// Code generated by generate-services. DO NOT EDIT.

package image

import (
	"fmt"
	"net/url"
	"strings"
)

// Option defines a functional option for image operations
type Option func(*Options)

// Options holds query parameters for image operations
type Options struct {
	Date       *string   `url:"date,omitempty"`
	MultiSlots *bool     `url:"multi_slots,omitempty"`
	Runtime    *string   `url:"runtime,omitempty"`
	Tag        *[]string `url:"tag,omitempty"`
}

// WithDate sets the date query parameter
func WithDate(date string) Option {
	return func(o *Options) {
		o.Date = &date
	}
}

// WithMultiSlots sets the multi_slots query parameter
func WithMultiSlots(multi_slots bool) Option {
	return func(o *Options) {
		o.MultiSlots = &multi_slots
	}
}

// WithRuntime sets the runtime query parameter
func WithRuntime(runtime string) Option {
	return func(o *Options) {
		o.Runtime = &runtime
	}
}

// WithTag sets the tag query parameter
func WithTag(tag []string) Option {
	return func(o *Options) {
		o.Tag = &tag
	}
}

// buildQueryString builds a query string from options
func buildQueryString(opts ...Option) string {
	options := &Options{}
	for _, opt := range opts {
		opt(options)
	}

	var params []string
	if options.Date != nil {
		params = append(params, fmt.Sprintf("date=%s", url.QueryEscape(*options.Date)))
	}
	if options.MultiSlots != nil {
		params = append(params, fmt.Sprintf("multi_slots=%t", *options.MultiSlots))
	}
	if options.Runtime != nil {
		params = append(params, fmt.Sprintf("runtime=%s", url.QueryEscape(*options.Runtime)))
	}
	if options.Tag != nil {
		params = append(params, fmt.Sprintf("tag=%v", *options.Tag))
	}

	if len(params) == 0 {
		return ""
	}
	return strings.Join(params, "&")
}
