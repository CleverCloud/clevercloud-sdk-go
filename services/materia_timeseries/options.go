// Code generated by generate-services. DO NOT EDIT.

package materia_timeseries

import (
	"fmt"
	"net/url"
	"strings"
)

// Option defines a functional option for materia_timeseries operations
type Option func(*Options)

// Options holds query parameters for materia_timeseries operations
type Options struct {
	Limit    *int    `url:"limit,omitempty"`
	Location *string `url:"location,omitempty"`
	Since    *string `url:"since,omitempty"`
}

// WithLimit sets the limit query parameter
func WithLimit(limit int) Option {
	return func(o *Options) {
		o.Limit = &limit
	}
}

// WithLocation sets the location query parameter
func WithLocation(location string) Option {
	return func(o *Options) {
		o.Location = &location
	}
}

// WithSince sets the since query parameter
func WithSince(since string) Option {
	return func(o *Options) {
		o.Since = &since
	}
}

// buildQueryString builds a query string from options
func buildQueryString(opts ...Option) string {
	options := &Options{}
	for _, opt := range opts {
		opt(options)
	}

	var params []string
	if options.Limit != nil {
		params = append(params, fmt.Sprintf("limit=%d", *options.Limit))
	}
	if options.Location != nil {
		params = append(params, fmt.Sprintf("location=%s", url.QueryEscape(*options.Location)))
	}
	if options.Since != nil {
		params = append(params, fmt.Sprintf("since=%s", url.QueryEscape(*options.Since)))
	}

	if len(params) == 0 {
		return ""
	}
	return strings.Join(params, "&")
}
