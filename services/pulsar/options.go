// Code generated by generate-services. DO NOT EDIT.

package pulsar

import (
	"fmt"
	"net/url"
	"strings"
)

// Option defines a functional option for pulsar operations
type Option func(*Options)

// Options holds query parameters for pulsar operations
type Options struct {
	Force            *bool     `url:"force,omitempty"`
	Partitioned      *bool     `url:"partitioned,omitempty"`
	Partitionsnumber *int      `url:"partitionsNumber,omitempty"`
	Resourceid       *[]string `url:"resourceId,omitempty"`
	Since            *string   `url:"since,omitempty"`
	Until            *string   `url:"until,omitempty"`
}

// WithForce sets the force query parameter
func WithForce(force bool) Option {
	return func(o *Options) {
		o.Force = &force
	}
}

// WithPartitioned sets the partitioned query parameter
func WithPartitioned(partitioned bool) Option {
	return func(o *Options) {
		o.Partitioned = &partitioned
	}
}

// WithPartitionsnumber sets the partitionsNumber query parameter
func WithPartitionsnumber(partitionsNumber int) Option {
	return func(o *Options) {
		o.Partitionsnumber = &partitionsNumber
	}
}

// WithResourceid sets the resourceId query parameter
func WithResourceid(resourceId []string) Option {
	return func(o *Options) {
		o.Resourceid = &resourceId
	}
}

// WithSince sets the since query parameter
func WithSince(since string) Option {
	return func(o *Options) {
		o.Since = &since
	}
}

// WithUntil sets the until query parameter
func WithUntil(until string) Option {
	return func(o *Options) {
		o.Until = &until
	}
}

// buildQueryString builds a query string from options
func buildQueryString(opts ...Option) string {
	options := &Options{}
	for _, opt := range opts {
		opt(options)
	}

	var params []string
	if options.Force != nil {
		params = append(params, fmt.Sprintf("force=%t", *options.Force))
	}
	if options.Partitioned != nil {
		params = append(params, fmt.Sprintf("partitioned=%t", *options.Partitioned))
	}
	if options.Partitionsnumber != nil {
		params = append(params, fmt.Sprintf("partitionsNumber=%d", *options.Partitionsnumber))
	}
	if options.Resourceid != nil {
		params = append(params, fmt.Sprintf("resourceId=%v", *options.Resourceid))
	}
	if options.Since != nil {
		params = append(params, fmt.Sprintf("since=%s", url.QueryEscape(*options.Since)))
	}
	if options.Until != nil {
		params = append(params, fmt.Sprintf("until=%s", url.QueryEscape(*options.Until)))
	}

	if len(params) == 0 {
		return ""
	}
	return strings.Join(params, "&")
}
