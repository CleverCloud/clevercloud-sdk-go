// Code generated by generate-services. DO NOT EDIT.

package postgresql

import (
	"fmt"
	"net/url"
	"strings"
)

// Option defines a functional option for postgresql operations
type Option func(*Options)

// Options holds query parameters for postgresql operations
type Options struct {
	Database        *string `url:"database,omitempty"`
	Databaseoid     *int    `url:"databaseOId,omitempty"`
	Keepconnections *bool   `url:"keepConnections,omitempty"`
	Oid             *int    `url:"oid,omitempty"`
	Schema          *string `url:"schema,omitempty"`
	Schemaoid       *int    `url:"schemaOId,omitempty"`
	Userid          *string `url:"userId,omitempty"`
}

// WithDatabase sets the database query parameter
func WithDatabase(database string) Option {
	return func(o *Options) {
		o.Database = &database
	}
}

// WithDatabaseoid sets the databaseOId query parameter
func WithDatabaseoid(databaseOId int) Option {
	return func(o *Options) {
		o.Databaseoid = &databaseOId
	}
}

// WithKeepconnections sets the keepConnections query parameter
func WithKeepconnections(keepConnections bool) Option {
	return func(o *Options) {
		o.Keepconnections = &keepConnections
	}
}

// WithOid sets the oid query parameter
func WithOid(oid int) Option {
	return func(o *Options) {
		o.Oid = &oid
	}
}

// WithSchema sets the schema query parameter
func WithSchema(schema string) Option {
	return func(o *Options) {
		o.Schema = &schema
	}
}

// WithSchemaoid sets the schemaOId query parameter
func WithSchemaoid(schemaOId int) Option {
	return func(o *Options) {
		o.Schemaoid = &schemaOId
	}
}

// WithUserid sets the userId query parameter
func WithUserid(userId string) Option {
	return func(o *Options) {
		o.Userid = &userId
	}
}

// buildQueryString builds a query string from options
func buildQueryString(opts ...Option) string {
	options := &Options{}
	for _, opt := range opts {
		opt(options)
	}

	var params []string
	if options.Database != nil {
		params = append(params, fmt.Sprintf("database=%s", url.QueryEscape(*options.Database)))
	}
	if options.Databaseoid != nil {
		params = append(params, fmt.Sprintf("databaseOId=%d", *options.Databaseoid))
	}
	if options.Keepconnections != nil {
		params = append(params, fmt.Sprintf("keepConnections=%t", *options.Keepconnections))
	}
	if options.Oid != nil {
		params = append(params, fmt.Sprintf("oid=%d", *options.Oid))
	}
	if options.Schema != nil {
		params = append(params, fmt.Sprintf("schema=%s", url.QueryEscape(*options.Schema)))
	}
	if options.Schemaoid != nil {
		params = append(params, fmt.Sprintf("schemaOId=%d", *options.Schemaoid))
	}
	if options.Userid != nil {
		params = append(params, fmt.Sprintf("userId=%s", url.QueryEscape(*options.Userid)))
	}

	if len(params) == 0 {
		return ""
	}
	return strings.Join(params, "&")
}
